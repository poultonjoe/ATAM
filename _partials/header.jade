- var lang = current.path[0] === 'zh' ? 'zh' : '';
- var isHomepage = lang ? current.path[1] === 'index' : current.path[0] === 'index';
- var logo = lang || 'en';
- var navigation = lang !== 'zh' ? public._data.navigation : public.zh._data.navigation
- var baseUrl = github_pages ? (environment === 'development' ? '' : '/ATAM') : '';
- var logoUrl = lang !== 'zh' ? baseUrl : baseUrl + '/zh';
- var enClassName = current.path[0] === 'zh' ? 'lang en' : 'lang en selected';
- var zhClassName = current.path[0] === 'zh' ? 'lang zh selected' : 'lang zh';

header(role='banner')#site-header
  .wrap
    nav#main-navigation
      ul
        - each title, slug in navigation
          - var href = (lang ? lang + '/' : '') + slug
          - var path = lang ? current.path[1] : current.path[0]
          if path === slug
            li.selected: a(href='#{baseUrl}/#{href}/', title='#{title}')= title
          else
            li: a(href='#{baseUrl}/#{href}/', title='#{title}')= title
        li(class='#{enClassName}'): a(href='#{baseUrl}/', title='English') EN
        li(class='#{zhClassName}'): a(href='#{baseUrl}/zh/', title='中') 中
    
    #logo
      a(href='#{logoUrl}/', title='AT Asset Management - Home', class='#{logo}') AT Asset Management

    a.menu-button(href='#main-navigation', title='Toggle menu')
      span Toggle menu

    if isHomepage
      h1 Fixed income &amp; equities - The two things we know best
      a(href='#content', title='Skip to content')#skip-to-content Skip to content
